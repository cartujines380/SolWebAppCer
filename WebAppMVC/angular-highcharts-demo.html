<!doctype html>
<html>
    <head>
        <title>Angular Highcharts</title>

        <!--<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">-->
        <script src="Scripts/jquery-3.1.1.min.js"></script>
        <script src="Scripts/angular.min.js"></script>
        <script src="Scripts/highcharts/highstock.js"></script>
        <script src="Scripts/angular-highcharts.js"></script>
        <script src="/http://code.highcharts.com/highcharts-3d.js"></script>
    <style>
            #chart1 {
                height: 400px; 
                min-width: 310px; 
                max-width: 800px;
                margin: 0 auto;
            }
        </style>
    </head>
    <body>
<h2>Angular Highcharts Demo</h2>



<div ng-app="myapp">
    <div ng-controller="myctrl">

        <div class="span12">
            <input ng-model="chartConfig.title.text">
            <button ng-click="addSeries()">Add Series</button>
            <button ng-click="addPoints()">Add Points to Random Series</button>
            <button ng-click="removeRandomSeries()">Remove Random Series</button>
            <button ng-click="swapChartType()">Line/Bar</button>
            <button ng-click="toggleLoading()">Loading?</button>
            <button ng-click="toggleHighCharts()">HighChart/HighStock</button>
        </div>
        <div class="row">
            <highchart id="chart1" config="chartConfig" class="span10" ></highchart>
        </div>
        <div class="span6">
            Min: <input type="number" ng-model="chartConfig.xAxis.currentMin">
            Max: <input type="number" ng-model="chartConfig.xAxis.currentMax">
        </div>
    </div>
</div>

<script>
    var myapp = angular.module('myapp', ["highcharts-ng"]);

    myapp.controller('myctrl', function ($scope) {

        $scope.addPoints = function () {
            var seriesArray = $scope.chartConfig.series;
            var rndIdx = Math.floor(Math.random() * seriesArray.length);
            seriesArray[rndIdx].data = seriesArray[rndIdx].data.concat([1, 10, 20]);
        };

        $scope.addSeries = function() {
            var rnd = [];
            for (var i = 0; i < 10; i++) {
                rnd.push(Math.floor(Math.random() * 20) + 1);
            }
            $scope.chartConfig.series.push({
                data: rnd
            });
        };

        $scope.removeRandomSeries = function() {
            var seriesArray = $scope.chartConfig.series;
            var rndIdx = Math.floor(Math.random() * seriesArray.length);
            seriesArray.splice(rndIdx, 1);
        };

        $scope.swapChartType = function() {
            if (this.chartConfig.options.chart.type === 'line') {
                this.chartConfig.options.chart.type = 'bar';
            } else {
                this.chartConfig.options.chart.type = 'line';
                this.chartConfig.options.chart.zoomType = 'x';
            }
        };

        $scope.toggleLoading = function() {
            this.chartConfig.loading = !this.chartConfig.loading;
        };

        $scope.toggleHighCharts = function() {
            this.chartConfig.useHighStocks = !this.chartConfig.useHighStocks;
        };

        $scope.chartConfig = {
            options: {
                chart: {
                    renderTo: 'container',
                    type: 'column',
                    options3d: {
                        enabled: true,
                        alpha: 15,
                        beta: 15,
                        depth: 50,
                        viewDistance: 25
                    }
                },
                //chart: {
                //    plotBackgroundColor: null,
                //    plotBorderWidth: null,
                //    plotShadow: false,
                //    type: 'pie'
                //}
            },

            title: {
                text: 'Browser market shares. January, 2015 to May, 2015'
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            //plotOptions: {
            //    pie: {
            //        allowPointSelect: true,
            //        cursor: 'pointer',
            //        dataLabels: {
            //            enabled: true,
            //            format: '<b>{point.name}</b>: {point.percentage:.1f} %',
            //            style: {
            //                color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
            //            },
            //            connectorColor: 'silver'
            //        }
            //    }
            //},
            //series: [{
            //    name: 'Brands',
            //    data: [
            //        { name: 'Microsoft Internet Explorer', y: 56.33 },
            //        {
            //            name: 'Chrome',
            //            y: 24.03,
            //            sliced: true,
            //            selected: true
            //        },
            //        { name: 'Firefox', y: 10.38 },
            //        { name: 'Safari', y: 4.77 }, { name: 'Opera', y: 0.91 },
            //        { name: 'Proprietary or Undetectable', y: 0.2 }
            //    ]
            //}],
            xAxis: {
                type: 'category',
                labels: {
                    rotation: -45,
                    style: {
                        fontSize: '13px',
                        fontFamily: 'Verdana, sans-serif'
                    }
                }
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Population (millions)'
                }
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: true,
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                        style: {
                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                        },
                        connectorColor: 'silver'
                    }
                }
            },
            series: [{
                name: 'Navegadores',
                data: [
                { name: 'Microsoft Internet Explorer', y: 56.33 },
                {
                    name: 'Chrome',
                    y: 24.03,
                    sliced: true,
                    selected: true
                },
                { name: 'Firefox', y: 10.38 },
                { name: 'Safari', y: 4.77 },
                { name: 'Opera', y: 0.91 },
                { name: 'Proprietary or Undetectable', y: 0.2 }
                ],
                dataLabels: {
            enabled: true,
            rotation: -90,
            color: '#FFFFFF',
            align: 'right',
            format: '{point.y:.1f}', // one decimal
            y: 10, // 10 pixels down from the top
            style: {
                fontSize: '13px',
                fontFamily: 'Verdana, sans-serif'
            }
        }
            }],
            title: {
                text: 'Chart rotation demo'
            },
            subtitle: {
                text: 'Test options by dragging the sliders below'
            },
            plotOptions: {
                column: {
                    depth: 25
                }
            },
            //series: [{
            //    name: 'John',
            //    data: [5, 3, 4, 7, 2]
            //}, {
            //    name: 'Jane',
            //    data: [2, 2, 3, 2, 1]
            //}, {
            //    name: 'Joe',
            //    data: [3, 4, 4, 2, 5]
            //}],

            loading: false
        };

    });
</script>

</body>
</html>